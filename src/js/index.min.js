function executePageSpecificCode(){commonScripts();const e=window.location.pathname;e.endsWith("index.html")||"/"===e?initializeHomePageScripts():e.endsWith("blog.html")?initializeBlogPageScripts():console.log("No specific code for this page.")}function commonScripts(){const e=document.querySelector(".nav__mobile"),t=document.querySelector(".checkbox");e.addEventListener("click",(e=>{e.target.classList.contains("nav__link")&&(t.checked=!1)}));const o=document.querySelector(".chip__labels"),r=document.querySelectorAll(".chip__label");o.addEventListener("click",(e=>{e.target.classList.contains("chip__label")&&(r.forEach((e=>e.classList.remove("chip__label--active"))),e.target.classList.add("chip__label--active"))})),document.querySelectorAll(".view__rb").forEach((e=>{e.addEventListener("change",(function(){document.querySelectorAll(".chip__label").forEach((e=>{e.classList.remove("chip__label--active")}));const e=document.querySelector(`label[for="${this.id}"]`);e&&e.classList.add("chip__label--active")}))}))}function initializeHomePageScripts(){const e=document.querySelector(".instructions-view__rbs"),t=document.querySelector(".instructions-view-heading"),o=document.querySelector(".instructions-view-paragraph"),r=document.querySelector(".view-inctruction-link"),n=document.querySelector(".instructions-view-videoSrc"),c=document.querySelector(".instructions-view__video");fetch("./json/instructions.json").then((e=>{if(!e.ok)throw new Error("Failed to load JSON");return e.json()})).then((i=>{e.addEventListener("click",(e=>{if(e.target&&"radio"===e.target.type){const a=e.target.id;try{const{heading:e,paragraph:s,instructionLink:l,videoSrc:d}=i[a];t.textContent=e,o.textContent=s,r.href=l,n.src=d,c.load()}catch(e){console.error(e)}}}))}));const i=document.querySelector(".courses-view__rbs"),a=document.querySelector(".course-view-heading"),s=document.querySelector(".course-view-paragraph"),l=document.querySelector(".view-course-link"),d=document.querySelector(".course-view-videoSrc"),u=document.querySelector(".course-view__video");fetch("./json/courses.json").then((e=>{if(!e.ok)throw new Error("Failed to load JSON");return e.json()})).then((e=>{i.addEventListener("click",(t=>{if(t.target&&"radio"===t.target.type){const o=t.target.id;try{const{heading:t,paragraph:r,instructionLink:n,videoSrc:c}=e[o];a.textContent=t,s.textContent=r,l.href=n,d.src=c,u.load()}catch(e){console.error(e)}}}))}))}function initializeBlogPageScripts(){const e=document.querySelector(".blog__tags"),t=document.querySelectorAll(".blog__tag");e.addEventListener("click",(e=>{e.target.classList.contains("blog__tag")&&(t.forEach((e=>e.classList.remove("blog__tag--active"))),e.target.classList.add("blog__tag--active"))}))}function initFormSubmission(e){const t=e.privateBotToken,o=e.privateChatId,r=document.getElementById("telegramForm");t&&o?r.addEventListener("submit",(e=>handleFormSubmit(e,t,o))):console.error("Токен либо чат айди недоступны.")}function handleFormSubmit(e,t,o){e.preventDefault();const r=document.getElementById("form-name").value.trim(),n=document.getElementById("form-tg").value.trim(),c=document.getElementById("form-email").value.trim(),i=document.getElementById("form-comment").value.trim();if(!r||!n||!c)return void alert("Пожалуйста, заполните все необходимые поля.");sendTelegramMessage(t,o,createTelegramMessage(r,n,c,i))}function createTelegramMessage(e,t,o,r){return`\n    Новая заявка 📧:\nИмя: ${e}\nTelegram: @${t}\nПочта: ${o}\nКомментарий: ${r}\n  `}function sendTelegramMessage(e,t,o){fetch(`https://api.telegram.org/bot${e}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:t,text:o,parse_mode:"HTML"})}).then((e=>e.json())).then((e=>{e.ok?(alert("Сообщение отправлено успешно!"),resetForm()):(console.error("Error response from Telegram API:",e),alert("Возникла ошибка при отправке формы."))})).catch((e=>{console.error("Network error:",e),alert("Возникла ошибка. Попробуйте снова.")}))}function resetForm(){document.getElementById("telegramForm").reset()}executePageSpecificCode(),fetch("./config/config.json").then((e=>{if(!e.ok)throw new Error("Failed to load config file.");return e.json()})).then(initFormSubmission).catch((e=>console.error("Error loading config:",e)));